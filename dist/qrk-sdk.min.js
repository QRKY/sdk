(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.qrk=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){(function(root){"use strict";var NODE_JS=typeof process=="object"&&process.versions&&process.versions.node;if(NODE_JS){root=global}var COMMON_JS=!root.JS_MD5_TEST&&typeof module=="object"&&module.exports;var AMD=typeof define=="function"&&define.amd;var ARRAY_BUFFER=!root.JS_MD5_TEST&&typeof ArrayBuffer!="undefined";var HEX_CHARS="0123456789abcdef".split("");var EXTRA=[128,32768,8388608,-2147483648];var SHIFT=[0,8,16,24];var OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer"];var blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer);blocks=new Uint32Array(buffer)}var createOutputMethod=function(outputType){return function(message){return new Md5(true).update(message)[outputType]()}};var createMethod=function(){var method=createOutputMethod("hex");if(NODE_JS){method=nodeWrap(method)}method.create=function(){return new Md5};method.update=function(message){return method.create().update(message)};for(var i=0;i<OUTPUT_TYPES.length;++i){var type=OUTPUT_TYPES[i];method[type]=createOutputMethod(type)}return method};var nodeWrap=function(method){var crypto,Buffer;try{if(root.JS_MD5_TEST){throw"JS_MD5_TEST"}crypto=require("crypto");Buffer=require("buffer").Buffer}catch(e){console.log(e);return method}var nodeMethod=function(message){if(typeof message=="string"){return crypto.createHash("md5").update(message,"utf8").digest("hex")}else if(message.constructor==ArrayBuffer){message=new Uint8Array(message)}else if(message.length===undefined){return method(message)}return crypto.createHash("md5").update(new Buffer(message)).digest("hex")};return nodeMethod};function Md5(sharedMemory){if(sharedMemory){blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0;this.blocks=blocks;this.buffer8=buffer8}else{if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);this.buffer8=new Uint8Array(buffer);this.blocks=new Uint32Array(buffer)}else{this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0;this.finalized=this.hashed=false;this.first=true}Md5.prototype.update=function(message){if(this.finalized){return}var notString=typeof message!="string";if(notString&&message.constructor==root.ArrayBuffer){message=new Uint8Array(message)}var code,index=0,i,length=message.length||0,blocks=this.blocks;var buffer8=this.buffer8;while(index<length){if(this.hashed){this.hashed=false;blocks[0]=blocks[16];blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0}if(notString){if(ARRAY_BUFFER){for(i=this.start;index<length&&i<64;++index){buffer8[i++]=message[index]}}else{for(i=this.start;index<length&&i<64;++index){blocks[i>>2]|=message[index]<<SHIFT[i++&3]}}}else{if(ARRAY_BUFFER){for(i=this.start;index<length&&i<64;++index){code=message.charCodeAt(index);if(code<128){buffer8[i++]=code}else if(code<2048){buffer8[i++]=192|code>>6;buffer8[i++]=128|code&63}else if(code<55296||code>=57344){buffer8[i++]=224|code>>12;buffer8[i++]=128|code>>6&63;buffer8[i++]=128|code&63}else{code=65536+((code&1023)<<10|message.charCodeAt(++index)&1023);buffer8[i++]=240|code>>18;buffer8[i++]=128|code>>12&63;buffer8[i++]=128|code>>6&63;buffer8[i++]=128|code&63}}}else{for(i=this.start;index<length&&i<64;++index){code=message.charCodeAt(index);if(code<128){blocks[i>>2]|=code<<SHIFT[i++&3]}else if(code<2048){blocks[i>>2]|=(192|code>>6)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}else if(code<55296||code>=57344){blocks[i>>2]|=(224|code>>12)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>6&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}else{code=65536+((code&1023)<<10|message.charCodeAt(++index)&1023);blocks[i>>2]|=(240|code>>18)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>12&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>6&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}}}}this.lastByteIndex=i;this.bytes+=i-this.start;if(i>=64){this.start=i-64;this.hash();this.hashed=true}else{this.start=i}}return this};Md5.prototype.finalize=function(){if(this.finalized){return}this.finalized=true;var blocks=this.blocks,i=this.lastByteIndex;blocks[i>>2]|=EXTRA[i&3];if(i>=56){if(!this.hashed){this.hash()}blocks[0]=blocks[16];blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0}blocks[14]=this.bytes<<3;this.hash()};Md5.prototype.hash=function(){var a,b,c,d,bc,da,blocks=this.blocks;if(this.first){a=blocks[0]-680876937;a=(a<<7|a>>>25)-271733879<<0;d=(-1732584194^a&2004318071)+blocks[1]-117830708;d=(d<<12|d>>>20)+a<<0;c=(-271733879^d&(a^-271733879))+blocks[2]-1126478375;c=(c<<17|c>>>15)+d<<0;b=(a^c&(d^a))+blocks[3]-1316259209;b=(b<<22|b>>>10)+c<<0}else{a=this.h0;b=this.h1;c=this.h2;d=this.h3;a+=(d^b&(c^d))+blocks[0]-680876936;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+blocks[1]-389564586;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+blocks[2]+606105819;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+blocks[3]-1044525330;b=(b<<22|b>>>10)+c<<0}a+=(d^b&(c^d))+blocks[4]-176418897;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+blocks[5]+1200080426;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+blocks[6]-1473231341;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+blocks[7]-45705983;b=(b<<22|b>>>10)+c<<0;a+=(d^b&(c^d))+blocks[8]+1770035416;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+blocks[9]-1958414417;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+blocks[10]-42063;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+blocks[11]-1990404162;b=(b<<22|b>>>10)+c<<0;a+=(d^b&(c^d))+blocks[12]+1804603682;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+blocks[13]-40341101;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+blocks[14]-1502002290;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+blocks[15]+1236535329;b=(b<<22|b>>>10)+c<<0;a+=(c^d&(b^c))+blocks[1]-165796510;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+blocks[6]-1069501632;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+blocks[11]+643717713;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+blocks[0]-373897302;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+blocks[5]-701558691;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+blocks[10]+38016083;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+blocks[15]-660478335;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+blocks[4]-405537848;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+blocks[9]+568446438;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+blocks[14]-1019803690;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+blocks[3]-187363961;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+blocks[8]+1163531501;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+blocks[13]-1444681467;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+blocks[2]-51403784;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+blocks[7]+1735328473;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+blocks[12]-1926607734;b=(b<<20|b>>>12)+c<<0;bc=b^c;a+=(bc^d)+blocks[5]-378558;a=(a<<4|a>>>28)+b<<0;d+=(bc^a)+blocks[8]-2022574463;d=(d<<11|d>>>21)+a<<0;da=d^a;c+=(da^b)+blocks[11]+1839030562;c=(c<<16|c>>>16)+d<<0;b+=(da^c)+blocks[14]-35309556;b=(b<<23|b>>>9)+c<<0;bc=b^c;a+=(bc^d)+blocks[1]-1530992060;a=(a<<4|a>>>28)+b<<0;d+=(bc^a)+blocks[4]+1272893353;d=(d<<11|d>>>21)+a<<0;da=d^a;c+=(da^b)+blocks[7]-155497632;c=(c<<16|c>>>16)+d<<0;b+=(da^c)+blocks[10]-1094730640;b=(b<<23|b>>>9)+c<<0;bc=b^c;a+=(bc^d)+blocks[13]+681279174;a=(a<<4|a>>>28)+b<<0;d+=(bc^a)+blocks[0]-358537222;d=(d<<11|d>>>21)+a<<0;da=d^a;c+=(da^b)+blocks[3]-722521979;c=(c<<16|c>>>16)+d<<0;b+=(da^c)+blocks[6]+76029189;b=(b<<23|b>>>9)+c<<0;bc=b^c;a+=(bc^d)+blocks[9]-640364487;a=(a<<4|a>>>28)+b<<0;d+=(bc^a)+blocks[12]-421815835;d=(d<<11|d>>>21)+a<<0;da=d^a;c+=(da^b)+blocks[15]+530742520;c=(c<<16|c>>>16)+d<<0;b+=(da^c)+blocks[2]-995338651;b=(b<<23|b>>>9)+c<<0;a+=(c^(b|~d))+blocks[0]-198630844;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+blocks[7]+1126891415;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+blocks[14]-1416354905;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+blocks[5]-57434055;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+blocks[12]+1700485571;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+blocks[3]-1894986606;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+blocks[10]-1051523;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+blocks[1]-2054922799;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+blocks[8]+1873313359;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+blocks[15]-30611744;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+blocks[6]-1560198380;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+blocks[13]+1309151649;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+blocks[4]-145523070;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+blocks[11]-1120210379;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+blocks[2]+718787259;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+blocks[9]-343485551;b=(b<<21|b>>>11)+c<<0;if(this.first){this.h0=a+1732584193<<0;this.h1=b-271733879<<0;this.h2=c-1732584194<<0;this.h3=d+271733878<<0;this.first=false}else{this.h0=this.h0+a<<0;this.h1=this.h1+b<<0;this.h2=this.h2+c<<0;this.h3=this.h3+d<<0}};Md5.prototype.hex=function(){this.finalize();var h0=this.h0,h1=this.h1,h2=this.h2,h3=this.h3;return HEX_CHARS[h0>>4&15]+HEX_CHARS[h0&15]+HEX_CHARS[h0>>12&15]+HEX_CHARS[h0>>8&15]+HEX_CHARS[h0>>20&15]+HEX_CHARS[h0>>16&15]+HEX_CHARS[h0>>28&15]+HEX_CHARS[h0>>24&15]+HEX_CHARS[h1>>4&15]+HEX_CHARS[h1&15]+HEX_CHARS[h1>>12&15]+HEX_CHARS[h1>>8&15]+HEX_CHARS[h1>>20&15]+HEX_CHARS[h1>>16&15]+HEX_CHARS[h1>>28&15]+HEX_CHARS[h1>>24&15]+HEX_CHARS[h2>>4&15]+HEX_CHARS[h2&15]+HEX_CHARS[h2>>12&15]+HEX_CHARS[h2>>8&15]+HEX_CHARS[h2>>20&15]+HEX_CHARS[h2>>16&15]+HEX_CHARS[h2>>28&15]+HEX_CHARS[h2>>24&15]+HEX_CHARS[h3>>4&15]+HEX_CHARS[h3&15]+HEX_CHARS[h3>>12&15]+HEX_CHARS[h3>>8&15]+HEX_CHARS[h3>>20&15]+HEX_CHARS[h3>>16&15]+HEX_CHARS[h3>>28&15]+HEX_CHARS[h3>>24&15]};Md5.prototype.toString=Md5.prototype.hex;Md5.prototype.digest=function(){this.finalize();var h0=this.h0,h1=this.h1,h2=this.h2,h3=this.h3;return[h0&255,h0>>8&255,h0>>16&255,h0>>24&255,h1&255,h1>>8&255,h1>>16&255,h1>>24&255,h2&255,h2>>8&255,h2>>16&255,h2>>24&255,h3&255,h3>>8&255,h3>>16&255,h3>>24&255]};Md5.prototype.array=Md5.prototype.digest;Md5.prototype.arrayBuffer=function(){this.finalize();var buffer=new ArrayBuffer(16);var blocks=new Uint32Array(buffer);blocks[0]=this.h0;blocks[1]=this.h1;blocks[2]=this.h2;blocks[3]=this.h3;return buffer};Md5.prototype.buffer=Md5.prototype.arrayBuffer;var exports=createMethod();if(COMMON_JS){module.exports=exports}else{root.md5=exports;if(AMD){define(function(){return exports})}}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{buffer:undefined,crypto:undefined}],2:[function(require,module,exports){(function(root){var setTimeoutFunc=setTimeout;function noop(){}var asap=typeof setImmediate==="function"&&setImmediate||function(fn){setTimeoutFunc(fn,1)};var onUnhandledRejection=function onUnhandledRejection(err){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",err)}};function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");if(typeof fn!=="function")throw new TypeError("not a function");this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];doResolve(fn,this)}function handle(self,deferred){while(self._state===3){self=self._value}if(self._state===0){self._deferreds.push(deferred);return}self._handled=true;asap(function(){var cb=self._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self._state===1?resolve:reject)(deferred.promise,self._value);return}var ret;try{ret=cb(self._value)}catch(e){reject(deferred.promise,e);return}resolve(deferred.promise,ret)})}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&(typeof newValue==="object"||typeof newValue==="function")){var then=newValue.then;if(newValue instanceof Promise){self._state=3;self._value=newValue;finale(self);return}else if(typeof then==="function"){doResolve(bind(then,newValue),self);return}}self._state=1;self._value=newValue;finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2;self._value=newValue;finale(self)}function finale(self){if(self._state===2&&self._deferreds.length===0){setTimeout(function(){if(!self._handled){onUnhandledRejection(self._value)}},1)}for(var i=0,len=self._deferreds.length;i<len;i++){handle(self,self._deferreds[i])}self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==="function"?onFulfilled:null;this.onRejected=typeof onRejected==="function"?onRejected:null;this.promise=promise}function doResolve(fn,self){var done=false;try{fn(function(value){if(done)return;done=true;resolve(self,value)},function(reason){if(done)return;done=true;reject(self,reason)})}catch(ex){if(done)return;done=true;reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){var prom=new Promise(noop);handle(this,new Handler(onFulfilled,onRejected,prom));return prom};Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){if(args.length===0)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&(typeof val==="object"||typeof val==="function")){var then=val.then;if(typeof then==="function"){then.call(val,function(val){res(i,val)},reject);return}}args[i]=val;if(--remaining===0){resolve(args)}}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++){res(i,args[i])}})};Promise.resolve=function(value){if(value&&typeof value==="object"&&value.constructor===Promise){return value}return new Promise(function(resolve){resolve(value)})};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})};Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++){values[i].then(resolve,reject)}})};Promise._setImmediateFn=function _setImmediateFn(fn){asap=fn};Promise._setUnhandledRejectionFn=function _setUnhandledRejectionFn(fn){onUnhandledRejection=fn};if(typeof module!=="undefined"&&module.exports){module.exports=Promise}else if(!root.Promise){root.Promise=Promise}})(this)},{}],3:[function(require,module,exports){"use strict";module.exports=function(qrk,request){qrk.sayHello=function(spec,cb){var path;spec=spec||{};path="/";return request.call(this,{path:path,method:"GET"},cb)}}},{}],4:[function(require,module,exports){(function(global){"use strict";var httpRequest=require("./lib/httpRequest"),main=require("./main")(httpRequest);if(global.hasOwnProperty("window")&&global.window===global){global.Prestigos=main}else{module.exports=main}})(this)},{"./lib/httpRequest":6,"./main":9}],5:[function(require,module,exports){(function(global){"use strict";var httpRequest=require("./httpRequest"),sortedJSON=require("./sortedJSON"),Promise=global.Promise||require("promise-polyfill");function defer(){var deferred,promise;deferred={};promise=new Promise(function(resolve,reject){deferred.resolve=resolve;deferred.reject=reject});deferred.promise=promise;return deferred}module.exports=function(httpRequest){return function(spec,cb){var path,opts,hasBody,data,deferred=defer();data=spec.body?sortedJSON(spec.body):"";cb=typeof cb==="function"?cb:false;path=this.sign(spec.path,data||"");if(spec.query&&spec.query!==""){path+="&"+spec.query}opts={host:this.domain,port:this.port,protocol:this.protocol,path:path,method:spec.method||"GET"};hasBody=["POST","PUT"].indexOf(opts.method)>-1;if(hasBody){opts.body=data}httpRequest(opts,function(res){if(res.statusCode>=200&&res.statusCode<300){if(cb){cb(null,res.body);return}deferred.resolve(res.body);return}if(cb){cb(res.body,null)}deferred.reject(res.body)});if(!cb){return deferred.promise}}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./httpRequest":6,"./sortedJSON":8,"promise-polyfill":2}],6:[function(require,module,exports){(function(global){"use strict";var sortedJSON=require("./sortedJSON");module.exports=function httpRequest(opts,cb){var http="https",request,strBody,xhr,XHR,url;strBody="";XHR=global.XMLHttpRequest||false;if(opts.body){strBody=typeof opts.body==="object"?sortedJSON(opts.body):opts.body}delete opts.body;if(!XHR&&!global.fetch){http=require(opts.protocol||http);opts.protocol+=":";opts.headers=opts.headers||{};opts.headers["Content-Type"]="application/json";opts.headers.Accept="application/json,*/*";opts.headers["Content-Length"]=Buffer.byteLength(strBody);request=http.request(opts);request.write(strBody);request.end();request.on("response",function(response){response.body="";response.setEncoding("utf8");response.on("data",function(chunk){response.body+=chunk});response.on("end",function(){try{response.body=JSON.parse(response.body)}catch(e){console.log(e)}cb(response)})})}if(global.fetch){url=(opts.protocol||"https")+"://"+opts.host+(opts.port?":"+opts.port:"")+opts.path;opts={method:opts.method,headers:{"Content-Type":"application/json;charset=UTF-8",Accept:"application/json,*/*"}};if(strBody&&(opts.method==="POST"||opts.method==="PUT")){opts.body=strBody}global.fetch(url,opts).then(function(res){if(typeof cb==="function"){cb({statusCode:res.status,body:res.json()})}})}if(XHR&&!global.fetch){xhr=new XHR;url=(opts.protocol||"https")+"://"+opts.host+(opts.port?":"+opts.port:"")+opts.path;xhr.open(opts.method,url,true);xhr.onreadystatechange=function(){var value;if(xhr.readyState!==4){return}try{value=JSON.parse(xhr.responseText)}catch(e){value=xhr.responseText}if(typeof cb==="function"){cb({statusCode:xhr.status,body:value})}};if(strBody&&(opts.method==="POST"||opts.method==="PUT")){xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.send(strBody)}else{xhr.send()}}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./sortedJSON":8}],7:[function(require,module,exports){"use strict";var sortedJSON=require("./sortedJSON"),md5=require("js-md5");module.exports=function createSigner(hash){return function(url,body){var strBody="",signature;if(body){strBody=typeof body==="object"?sortedJSON(body):body}signature=md5(url+strBody+hash);if(url.indexOf("?")>-1){return url+"&signature="+signature}return url+"?signature="+signature}}},{"./sortedJSON":8,"js-md5":1}],8:[function(require,module,exports){"use strict";module.exports=function sortedJSON(that){var list;if(["boolean","number","string"].indexOf(typeof that)>-1){return JSON.stringify(that)}if(that===undefined){return"undefined"}if(Array.isArray(that)){list=that.map(function(item){return sortedJSON(item)});return"["+list.join(",")+"]"}if(typeof that==="object"&&that!==null){list=Object.keys(that).sort().reduce(function(arr,key){var value=sortedJSON(that[key]);if(value!=="undefined"){arr.push('"'+key+'":'+value)}return arr},[]);return"{"+list.join(",")+"}"}}},{}],9:[function(require,module,exports){"use strict";module.exports=function(httpRequest){var qrk={},constructor,request=require("./lib/apiRequest")(httpRequest),createSigner=require("./lib/signer");constructor=function(spec){var that=Object.keys(qrk).reduce(function(obj,key){obj[key]=qrk[key];return obj},{});that.sign=createSigner(spec.hash);that.username=spec.username;that.domain=spec.domain||"api.qrk.mx";if(spec.port){that.port=spec.port}that.protocol=spec.protocol||"https";return that};require("./hello")(qrk,request);return constructor}},{"./hello":3,"./lib/apiRequest":5,"./lib/signer":7}]},{},[4])(4)});